Current Station: Macro Network
reading 10 nodes
number of nodes:12
reading 10 links
reading 20 links
number of road links:28
number of agents:6

Current Station: w6
reading 10 nodes
reading 20 nodes
number of nodes:20
reading 10 links
reading 20 links
number of road links:23

Current Station: w7
reading 10 nodes
reading 20 nodes
number of nodes:26
reading 10 links
reading 20 links
reading 30 links
reading 40 links
number of road links:40

Current Station: w8
reading 10 nodes
reading 20 nodes
number of nodes:20
reading 10 links
reading 20 links
number of road links:23
Outer Iteration: 0
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10460.807881773399
Upper bound: 11160
Gap = 6.2651623497007245%
Upper bound feasible!

Current Station:6
Not path found in agent 1(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 0 headway time: 4 for link 20

Current Station:7
Not path found in agent 1(using dunmmy links)
Not path found in agent 3(using dunmmy links)
Not path found in agent 5(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 2 headway time: 4 for link 3
Updated same agent 4 headway time: 4 for link 3
Updated same agent 0 headway time: 4 for link 17

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399]
lower bound list: [12960]
conflict list: [4]
conflict summary:
[[1. 3. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 1
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10599.986582370922
Upper bound: 11160
Gap = 5.018041376604639%
Upper bound feasible!

Current Station:6
Not path found in agent 1(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 0 headway time: 5 for link 20

Current Station:7
Not path found in agent 1(using dunmmy links)
Not path found in agent 3(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 2 headway time: 5 for link 3
Updated same agent 0 headway time: 5 for link 17

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922]
lower bound list: [12960, 12960]
conflict list: [4, 3]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [0. 0. 0.]]


Outer Iteration: 2
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10640.634355633243
Upper bound: 11160
Gap = 4.6538140176232625%
Upper bound feasible!

Current Station:6
Not path found in agent 1(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 0 headway time: 6 for link 20

Current Station:7
Not path found in agent 1(using dunmmy links)
Not path found in agent 3(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 2 headway time: 6 for link 3
Updated same agent 0 headway time: 6 for link 17

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243]
lower bound list: [12960, 12960, 12960]
conflict list: [4, 3, 3]
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]]


CPU Time: 16.95714497566223
PS Z:\multi_level_timetable\论文配套实验\small_case_study> & D:/Anaconda/python.exe z:/multi_level_timetable/论文配套实验/small_case_study/small_case_study.py    

Current Station: Macro Network
reading 10 nodes
number of nodes:12
reading 10 links
reading 20 links
number of road links:28
number of agents:6

Current Station: w6
reading 10 nodes
reading 20 nodes
number of nodes:20
reading 10 links
reading 20 links
number of road links:23

Current Station: w7
reading 10 nodes
reading 20 nodes
number of nodes:26
reading 10 links
reading 20 links
reading 30 links
reading 40 links
number of road links:40

Current Station: w8
reading 10 nodes
reading 20 nodes
number of nodes:20
reading 10 links
reading 20 links
number of road links:23
Outer Iteration: 0
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10460.807881773399
Upper bound: 11160
Gap = 6.2651623497007245%
Upper bound feasible!

Current Station:6
Not path found in agent 1(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 0 headway time: 4 for link 20

Current Station:7
Not path found in agent 1(using dunmmy links)
Not path found in agent 3(using dunmmy links)
Not path found in agent 5(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 2 headway time: 4 for link 3
Updated same agent 4 headway time: 4 for link 3
Updated same agent 0 headway time: 4 for link 17

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399]
lower bound list: [12960]
conflict list: [4]
conflict summary:
[[1. 3. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 1
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10599.986582370922
Upper bound: 11160
Gap = 5.018041376604639%
Upper bound feasible!

Current Station:6
Not path found in agent 1(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 0 headway time: 5 for link 20

Current Station:7
Not path found in agent 1(using dunmmy links)
Not path found in agent 3(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 2 headway time: 5 for link 3
Updated same agent 0 headway time: 5 for link 17

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922]
lower bound list: [12960, 12960]
conflict list: [4, 3]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 2
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10640.634355633243
Upper bound: 11160
Gap = 4.6538140176232625%
Upper bound feasible!

Current Station:6
Not path found in agent 1(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 0 headway time: 6 for link 20

Current Station:7
Not path found in agent 1(using dunmmy links)
Not path found in agent 3(using dunmmy links)
Upper bound: 600
Upper bound infeasible!
Updated same agent 2 headway time: 6 for link 3
Updated same agent 0 headway time: 6 for link 17

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243]
lower bound list: [12960, 12960, 12960]
conflict list: [4, 3, 3]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 3
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10856.0
Upper bound: 11160
Gap = 2.724014336917561%
Upper bound feasible!

Current Station:6
Upper bound: 600

Current Station:7
Upper bound: 600

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243, 12656.0]
lower bound list: [12960, 12960, 12960, 12960]
conflict list: [4, 3, 3, 0]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 4
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10816.131081549904
Upper bound: 11160
Gap = 3.081262710126307%
Upper bound feasible!

Current Station:6
Upper bound: 600

Current Station:7
Upper bound: 600

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243, 12656.0, 12616.131081549904]
lower bound list: [12960, 12960, 12960, 12960, 12960]
conflict list: [4, 3, 3, 0, 0]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 5
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10742.738916256158
Upper bound: 11160
Gap = 3.7388985998552133%
Upper bound feasible!

Current Station:6
Upper bound: 600

Current Station:7
Upper bound: 600

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243, 12656.0, 12616.131081549904, 12542.738916256158]
lower bound list: [12960, 12960, 12960, 12960, 12960, 12960]
conflict list: [4, 3, 3, 0, 0, 0]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 6
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10634.22723661211
Upper bound: 11160
Gap = 4.7112254783861145%
Upper bound feasible!

Current Station:6
Upper bound: 600

Current Station:7
Upper bound: 600

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243, 12656.0, 12616.131081549904, 12542.738916256158, 12434.22723661211]
lower bound list: [12960, 12960, 12960, 12960, 12960, 12960, 12960]
conflict list: [4, 3, 3, 0, 0, 0, 0]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 7
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10856.0
Upper bound: 11160
Gap = 2.724014336917561%
Upper bound feasible!

Current Station:6
Upper bound: 600

Current Station:7
Upper bound: 600

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243, 12656.0, 12616.131081549904, 12542.738916256158, 12434.22723661211, 12656.0]
lower bound list: [12960, 12960, 12960, 12960, 12960, 12960, 12960, 12960]
conflict list: [4, 3, 3, 0, 0, 0, 0, 0]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 8
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10816.131081549904
Upper bound: 11160
Gap = 3.081262710126307%
Upper bound feasible!

Current Station:6
Upper bound: 600

Current Station:7
Upper bound: 600

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243, 12656.0, 12616.131081549904, 12542.738916256158, 12434.22723661211, 12656.0, 12616.131081549904]
lower bound list: [12960, 12960, 12960, 12960, 12960, 12960, 12960, 12960, 12960]
conflict list: [4, 3, 3, 0, 0, 0, 0, 0, 0]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


Outer Iteration: 9
Iteration No: 1
Iteration No: 11
Iteration No: 21
Lower bound: 10742.738916256158
Upper bound: 11160
Gap = 3.7388985998552133%
Upper bound feasible!

Current Station:6
Upper bound: 600

Current Station:7
Upper bound: 600

Current Station:8
Upper bound: 600
upper bound list: [12260.807881773399, 12399.986582370922, 12440.634355633243, 12656.0, 12616.131081549904, 12542.738916256158, 12434.22723661211, 12656.0, 12616.131081549904, 12542.738916256158]
lower bound list: [12960, 12960, 12960, 12960, 12960, 12960, 12960, 12960, 12960, 12960]
conflict list: [4, 3, 3, 0, 0, 0, 0, 0, 0, 0]
conflict summary:
[[1. 3. 0.]
 [1. 2. 0.]
 [1. 2. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]


CPU Time: 60.01681208610535



Step 1: Reading data...
reading 10 nodes
reading 20 nodes
reading 30 nodes
reading 40 nodes
reading 50 nodes
reading 60 nodes
number of nodes:64
reading 10 links
reading 20 links
reading 30 links
reading 40 links
reading 50 links
reading 60 links
reading 70 links
reading 80 links
reading 90 links
number of road links:92
number of agents:6
Step 2: Generating Space-time arcs...
Step 3: Starting Optimizing...
Using license file C:\Users\Entai Wang\gurobi.lic
Changed value of parameter TimeLimit to 10800.0
   Prev: inf  Min: 0.0  Max: inf  Default: inf
Gurobi Optimizer version 9.1.1 build v9.1.1rc0 (win64)
Thread count: 4 physical cores, 8 logical processors, using up to 8 threads
Optimize a model with 1052800 rows, 4499600 columns and 21443578 nonzeros  
Model fingerprint: 0xed7cb830
Variable types: 0 continuous, 4499600 integer (4499600 binary)
Coefficient statistics:
  Matrix range     [1e+00, 9e+01]
  Objective range  [1e+00, 2e+02]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+00]
Presolve removed 494644 rows and 1489386 columns (presolve time = 6s) ...
Presolve removed 523824 rows and 1528945 columns (presolve time = 10s) ...
Presolve removed 525397 rows and 1528945 columns (presolve time = 15s) ...
Presolve removed 537014 rows and 1539444 columns (presolve time = 21s) ...
Presolve removed 560624 rows and 1563538 columns (presolve time = 25s) ...
Presolve removed 561903 rows and 1597668 columns (presolve time = 31s) ...
Presolve removed 566146 rows and 1623283 columns (presolve time = 35s) ...
Presolve removed 576847 rows and 1699159 columns (presolve time = 40s) ...
Presolve removed 601144 rows and 1893567 columns (presolve time = 45s) ...
Presolve removed 631042 rows and 2089884 columns (presolve time = 50s) ...
Presolve removed 641410 rows and 2127692 columns (presolve time = 55s) ...
Presolve removed 641426 rows and 2128372 columns (presolve time = 64s) ...
Presolve removed 641426 rows and 2264006 columns (presolve time = 345s) ...
Presolve removed 642729 rows and 2264006 columns (presolve time = 346s) ...
Presolve removed 642816 rows and 2299662 columns (presolve time = 354s) ...
Presolve removed 643046 rows and 2300074 columns (presolve time = 355s) ...
Presolve removed 646919 rows and 2300649 columns
Presolve time: 358.95s
Presolved: 405881 rows, 2198951 columns, 11541186 nonzeros
Variable types: 0 continuous, 2198951 integer (2198951 binary)
Found heuristic solution: objective 3885.0000000

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Elapsed ordering time = 5s
Elapsed ordering time = 10s
Elapsed ordering time = 15s
Elapsed ordering time = 17s
Elapsed ordering time = 20s
Elapsed ordering time = 25s
Elapsed ordering time = 30s
Elapsed ordering time = 35s
Elapsed ordering time = 40s
Elapsed ordering time = 41s
Elapsed ordering time = 45s
Elapsed ordering time = 50s
Elapsed ordering time = 51s
Elapsed ordering time = 55s
Ordering time: 59.92s

Barrier statistics:
 AA' NZ     : 1.330e+07
 Factor NZ  : 5.255e+08 (roughly 5.0 GBytes of memory)
 Factor Ops : 2.626e+12 (roughly 45 seconds per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   2.49147175e+09 -3.18234421e+08  6.80e+04 0.00e+00  2.12e+02   491s
   1   3.91496509e+08 -3.16159169e+08  1.06e+04 4.10e+00  3.72e+01   542s
   2   7.24514413e+07 -1.85575445e+08  1.86e+03 4.04e-01  7.80e+00   594s
   3   9.22977396e+06 -6.14206498e+07  2.43e+02 1.04e-02  1.41e+00   644s
   4   3.01615099e+06 -1.42253153e+07  8.23e+01 1.24e-03  3.72e-01   696s
   5   1.69820314e+06 -7.54574388e+06  4.63e+01 6.24e-14  2.02e-01   751s
   6   7.42491604e+05 -2.50897780e+06  2.02e+01 1.22e-13  7.75e-02   807s
   7   7.35383580e+04 -1.64609981e+05  1.89e+00 1.15e-13  6.33e-03   860s
   8   1.84307400e+04 -4.27522338e+04  3.93e-01 1.06e-13  1.42e-03   916s
   9   8.01355068e+03 -1.85657199e+04  1.09e-01 8.55e-14  5.05e-04   972s
  10   4.73149325e+03 -4.25393526e+03  2.02e-02 1.08e-13  1.44e-04  1030s
  11   4.15102130e+03  6.33618583e+02  4.92e-03 8.34e-14  5.24e-05  1081s
  12   3.83780504e+03  3.32520423e+03  1.04e-04 1.44e-13  7.16e-06  1131s
  13   3.60085579e+03  3.48858243e+03  4.14e-06 1.69e-13  1.56e-06  1188s
  14   3.54522666e+03  3.53765904e+03  1.87e-07 1.11e-12  1.06e-07  1235s
  15   3.54093933e+03  3.53996319e+03  4.83e-08 7.09e-13  1.37e-08  1277s
  16   3.54000001e+03  3.53999996e+03  9.36e-13 1.59e-12  6.99e-13  1322s
  17   3.54000000e+03  3.54000000e+03  2.45e-13 1.59e-12  1.85e-15  1367s

Barrier solved model in 17 iterations and 1367.19 seconds
Optimal objective 3.54000000e+03


Root crossover log...

  141817 DPushes remaining with DInf 0.0000000e+00              1368s
     491 DPushes remaining with DInf 0.0000000e+00              1372s
       0 DPushes remaining with DInf 0.0000000e+00              1374s

    9702 PPushes remaining with PInf 0.0000000e+00              1375s
    4349 PPushes remaining with PInf 0.0000000e+00              1375s
       0 PPushes remaining with PInf 0.0000000e+00              1376s

  Push phase complete: Pinf 0.0000000e+00, Dinf 1.3727686e-11   1376s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  151522    3.5400000e+03   0.000000e+00   0.000000e+00   1376s
  151522    3.5400000e+03   0.000000e+00   0.000000e+00   1377s
Concurrent spin time: 191.35s (can be avoided by choosing Method=3)

Solved with barrier

Root relaxation: objective 3.540000e+03, 151522 iterations, 1002.97 seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

*    0     0               0    3540.0000000 3540.00000  0.00%     - 1377s

Explored 0 nodes (151522 simplex iterations) in 1377.53 seconds
Thread count was 8 (of 8 available processors)

Solution count 2: 3540 3885

Optimal solution found (tolerance 1.00e-04)
Best objective 3.540000000000e+03, best bound 3.540000000000e+03, gap 0.0000%

 Get optimal solutions for 0:
(1940,137)->(1929,217): 1
(1923,220)->(1911,380): 1
(1889,390)->(1886,465): 1
(1863,472)->(1851,632): 1
(1839,639)->(1831,719): 1

 Get optimal solutions for 1:
(1939,42)->(1930,122): 1
(1923,125)->(1911,285): 1
(1889,295)->(1886,370): 1
(1863,377)->(1851,537): 1
(1838,544)->(1830,624): 1

 Get optimal solutions for 2:
(1940,768)->(1929,848): 1
(1923,851)->(1911,1011): 1
(1889,1021)->(1886,1096): 1
(1863,1103)->(1851,1263): 1
(1839,1270)->(1831,1350): 1

 Get optimal solutions for 3:
(1834,305)->(1836,385): 1
(1852,391)->(1864,551): 1
(1886,556)->(1889,636): 1
(1912,641)->(1924,801): 1
(1935,804)->(1936,884): 1

(1834,428)->(1836,508): 1
(1852,514)->(1864,674): 1
(1886,679)->(1889,759): 1
(1912,764)->(1924,924): 1
(1935,927)->(1936,1007): 1

 Get optimal solutions for 5:
(1834,570)->(1836,650): 1
(1852,656)->(1864,816): 1
(1886,821)->(1889,901): 1
(1912,906)->(1924,1066): 1
(1935,1069)->(1936,1149): 1
Finished!
Total CPU Time: 1542.7570633888245
